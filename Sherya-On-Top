local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library/main/Library", true))()
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local player = Players.LocalPlayer

local window = library:AddWindow("Sherya Script", {
    main_color = Color3.fromRGB(200, 0, 255),
    min_size = Vector2.new(660, 660),
    can_resize = false,
})

local maintab = window:AddTab("Main")
local farmtab = window:AddTab("Farm")
local farmmtab = window:AddTab("Farm++")
local misctab = window:AddTab("Misc")
local rebirthtab = window:AddTab("Rebirth")
local killertab = window:AddTab("Killer")
local playertab = window:AddTab("Player")
local teleporttab = window:AddTab("Teleport")
local calculatortab = window:AddTab("Calculator")
local credittab = window:AddTab("Credits")

local autoBrawlFolder = maintab:AddFolder("Auto Brawl")

getgenv().autoBrawl = false
getgenv().autoWinBrawl = false

-- Auto Join Brawl cuando falten 4 segundos
local function autoJoinBrawlAt4Sec()
    while getgenv().autoBrawl do
        local brawlButton, timerLabel = nil, nil
        for _, v in pairs(player.PlayerGui:GetDescendants()) do
            if v:IsA("TextButton") and v.Text:lower():find("join brawl") then
                brawlButton = v
            end
            if v:IsA("TextLabel") and v.Text:lower():find("brawl starting in") then
                timerLabel = v
            end
        end
        if brawlButton and timerLabel then
            local seconds = tonumber(timerLabel.Text:match("(%d+)"))
            if seconds and seconds == 4 then
                pcall(function()
                    brawlButton:Activate()
                end)
                wait(2)
            end
        end
        wait(0.5)
    end
end

-- Función para equipar el puño
local function equipFist()
    for _, tool in ipairs(player.Backpack:GetChildren()) do
        if tool.Name:lower():find("fist") then
            player.Character.Humanoid:EquipTool(tool)
            break
        end
    end
end

-- Auto Win Brawl (teletransporta y ataca a otros jugadores)
local function isInBrawl()
    local tag = player:FindFirstChild("InBrawl")
    return tag and tag.Value == true
end

local function autoWinBrawl()
    while getgenv().autoWinBrawl do
        if isInBrawl() then
            equipFist()
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame + Vector3.new(0,2,0)
                    VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.One, false, game)
                    wait(0.1)
                    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.One, false, game)
                end
            end
        end
        wait(0.5)
    end
end

autobrawlFolder:AddSwitch("Auto Join Brawl", {flag = "auto_brawl"}, function(state)
    getgenv().autoBrawl = state
    if state then
        if not getgenv()._autoBrawlThread or not coroutine.status(getgenv()._autoBrawlThread) == "running" then
            getgenv()._autoBrawlThread = task.spawn(autoJoinBrawlAt4Sec)
        end
    end
end)

autobrawlFolder:AddSwitch("Auto Win Brawl", {flag = "auto_win_brawl"}, function(state)
    getgenv().autoWinBrawl = state
    if state then
        if not getgenv()._autoWinBrawlThread or not coroutine.status(getgenv()._autoWinBrawlThread) == "running" then
            getgenv()._autoWinBrawlThread = task.spawn(autoWinBrawl)
        end
    end
end)
