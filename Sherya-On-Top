-- WHITELIST
local whitelist = {
    ["MissSherya"] = true,
    ["luis_109170"] = true,
    ["JohanAxelRS"] = true,
    ["elpepeandasuelto300"] = true,
    ["Alexqwq124"] = true,
    ["Cesar0_o1"] = true,
}
local player = game.Players.LocalPlayer
if not whitelist[player.Name] then
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Acceso Denegado",
        Text = "No estás autorizado para usar este script.",
        Duration = 10
    })
    return
end

local DrRayLibrary = loadstring(game:HttpGet("https://raw.githubusercontent.com/AZYsGithub/DrRay-UI-Library/main/DrRay.lua"))()
local window = DrRayLibrary:Load("Sherya Script", "Default")

-- Tabs
local mainTab = DrRayLibrary.newTab("Principal", "ImageIdHere")
local miscTab = DrRayLibrary.newTab("Misc", "ImageIdHere")
local killerTab = DrRayLibrary.newTab("Killer", "ImageIdHere")
local playersTab = DrRayLibrary.newTab("Players", "ImageIdHere")
local creditsTab = DrRayLibrary.newTab("Créditos", "ImageIdHere")

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Función para equipar herramientas
local function equipTool(toolName)
    local character = player.Character or player.CharacterAdded:Wait()
    local backpack = player:WaitForChild("Backpack")
    local tool = backpack:FindFirstChild(toolName) or character:FindFirstChild(toolName)
    if tool and tool.Parent ~= character then
        tool.Parent = character
        task.wait(0.2)
    end
end

-- Auto Punch
local autoPunch = false
mainTab.newToggle("Auto Punch", "Activa el auto punch", false, function(state)
    autoPunch = state
    if autoPunch then equipTool("Punch") end
    task.spawn(function()
        while autoPunch do
            pcall(function()
                local character = player.Character or player.CharacterAdded:Wait()
                local tool = character:FindFirstChild("Punch")
                if tool then
                    tool:Activate()
                else
                    equipTool("Punch")
                end
            end)
            task.wait(0.1)
        end
    end)
end)

-- Auto Orb
local autoOrb = false
mainTab.newToggle("Auto Orb", "Recolecta orbes automáticamente", false, function(state)
    autoOrb = state
    task.spawn(function()
        while autoOrb do
            for _, v in pairs(workspace:GetChildren()) do
                if v.Name == "Drop" and v:IsA("BasePart") then
                    v.CFrame = player.Character.HumanoidRootPart.CFrame
                end
            end
            task.wait(1)
        end
    end)
end)

-- Auto Demon Sword
local autoDemonSword = false
mainTab.newToggle("Auto (Demon Sword)", "Auto ataca con Demon Sword", false, function(state)
    autoDemonSword = state
    if autoDemonSword then equipTool("Demon Sword") end
    task.spawn(function()
        while autoDemonSword do
            pcall(function()
                local character = player.Character or player.CharacterAdded:Wait()
                local tool = character:FindFirstChild("Demon Sword")
                if not tool then
                    equipTool("Demon Sword")
                    tool = character:FindFirstChild("Demon Sword")
                end
                if tool then
                    tool:Activate()
                end
            end)
            task.wait(0.15)
        end
    end)
end)

-- Auto Speed
local speedValue = 16
miscTab.newInput("Auto Speed", "Cambia la velocidad", function(text)
    speedValue = tonumber(text) or 16
    if player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid.WalkSpeed = speedValue
    end
end)

local autoSpeedEnabled = false
local autoSpeedConnection
miscTab.newToggle("Auto Set Speed", "Mantiene la velocidad", false, function(bool)
    autoSpeedEnabled = bool
    if autoSpeedEnabled then
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.WalkSpeed = speedValue
        end
        if autoSpeedConnection then autoSpeedConnection:Disconnect() end
        autoSpeedConnection = player.CharacterAdded:Connect(function(character)
            local humanoid = character:WaitForChild("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = speedValue
            end
        end)
    else
        if autoSpeedConnection then autoSpeedConnection:Disconnect() autoSpeedConnection = nil end
    end
end)

-- Infinite Jump
local infiniteJumpConnection
miscTab.newToggle("Infinite Jump", "Salto infinito", false, function(bool)
    if bool then
        infiniteJumpConnection = game:GetService("UserInputService").JumpRequest:Connect(function()
            if player.Character and player.Character:FindFirstChild("Humanoid") then
                player.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
    else
        if infiniteJumpConnection then infiniteJumpConnection:Disconnect() infiniteJumpConnection = nil end
    end
end)

-- No Clip
local noclipLoop
miscTab.newToggle("No Clip", "Atravesar paredes", false, function(bool)
    if bool then
        noclipLoop = game:GetService("RunService").Stepped:Connect(function()
            for _, child in pairs(player.Character:GetDescendants()) do
                if child:IsA("BasePart") and child.CanCollide == true then
                    child.CanCollide = false
                end
            end
        end)
    else
        if noclipLoop then noclipLoop:Disconnect() noclipLoop = nil end
        for _, child in pairs(player.Character:GetDescendants()) do
            if child:IsA("BasePart") then
                child.CanCollide = true
            end
        end
    end
end)

-- Chat Espía
miscTab.newButton("Chat Espía", "Activa el chat espía", function()
    loadstring(game:HttpGet("https://pastebin.com/raw/Vv9Yw3Uw"))()
end)

-- Anti AFK
miscTab.newButton("Anti AFK", "Evita ser kickeado por inactividad", function()
    local VirtualUser = game:GetService("VirtualUser")
    player.Idled:Connect(function()
        VirtualUser:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
        task.wait(1)
        VirtualUser:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
    end)
    game.StarterGui:SetCore("SendNotification", {
        Title = "Anti-AFK",
        Text = "Activado correctamente",
        Duration = 5
    })
end)

-- Auto Kill (Punch)
local autoPunchAll = false
killerTab.newToggle("Auto Kill (Punch)", "Golpea a todos automáticamente", false, function(state)
    autoPunchAll = state
    task.spawn(function()
        while autoPunchAll do
            pcall(function()
                local backpack = player:WaitForChild("Backpack")
                local character = player.Character or player.CharacterAdded:Wait()
                local hrp = character:FindFirstChild("HumanoidRootPart")
                local tool = backpack:FindFirstChild("Punch") or character:FindFirstChild("Punch")
                if tool and tool.Parent ~= character then
                    tool.Parent = character
                end
                for _, otherPlayer in ipairs(Players:GetPlayers()) do
                    if not autoPunchAll then break end
                    if otherPlayer ~= player and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
                        hrp.CFrame = otherPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 2, 0)
                        if tool and tool.Activate then
                            tool:Activate()
                        end
                        task.wait(1.2)
                    end
                end
            end)
            task.wait(1)
        end
    end)
end)

-- Auto Kill (Demon Sword)
local autoKill = false
killerTab.newToggle("Auto Kill (Demon Sword)", "Ataca a todos con Demon Sword", false, function(state)
    autoKill = state
    if autoKill then equipTool("Demon Sword") end
    task.spawn(function()
        while autoKill do
            pcall(function()
                local lp = player
                local character = lp.Character or lp.CharacterAdded:Wait()
                local humanoidRoot = character:FindFirstChild("HumanoidRootPart")
                local tool = character:FindFirstChild("Demon Sword") or lp.Backpack:FindFirstChild("Demon Sword")
                if tool and tool.Parent ~= character then
                    tool.Parent = character
                    task.wait(0.2)
                end
                if not character:FindFirstChild("Demon Sword") then return end
                for _, p in ipairs(Players:GetPlayers()) do
                    if p ~= lp and p.Character and p.Character:FindFirstChild("HumanoidRootPart") and p.Character:FindFirstChild("Humanoid") and p.Character.Humanoid.Health > 0 then
                        local enemyHRP = p.Character.HumanoidRootPart
                        humanoidRoot.CFrame = enemyHRP.CFrame * CFrame.new(0, 0, 2)
                        local sword = character:FindFirstChild("Demon Sword")
                        if sword then
                            sword:Activate()
                        end
                        task.wait(0.3)
                    end
                end
            end)
            task.wait(1)
        end
    end)
end)

-- Teleport a jugadores
for _, p in ipairs(Players:GetPlayers()) do
    if p ~= player then
        playersTab.newButton("Teleport " .. p.Name, "Teletransporta a " .. p.Name, function()
            if p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                local myChar = player.Character
                if myChar and myChar:FindFirstChild("HumanoidRootPart") then
                    myChar.HumanoidRootPart.CFrame = p.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
                    DrRayLibrary:Notify("Teletransportado a " .. p.Name)
                end
            end
        end)
    end
end

-- Créditos
creditsTab.newLabel("Script hecho por Isabella")
creditsTab.newLabel("User de Roblox: MissSherya")
creditsTab.newLabel("Instagram: Sherya_Luck")
creditsTab.newLabel("TikTok: Sherya6000")
creditsTab.newLabel("Discord: isabella_hrz")
creditsTab.newLabel("Gracias por usar el script")
creditsTab.newLabel("Recomienda el script para hacer mas actualizaciones")
creditsTab.newLabel("Hago peticiones de otros juegos")
creditsTab.newLabel("Diviertete amiguito")
creditsTab.newLabel("Cost 3000 robux, Acepto transferencias o tarjetas de google play")
